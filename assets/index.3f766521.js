import{d as u,c as r,D as m,T as v,a,B as d,C as h,b as w,S as f,P as x,W as p,O as l,e as _}from"./OrbitControls.cdd771a9.js";import{o as g}from"./ocean.4381c243.js";import{T as y,a as S,C as b,b as C}from"./CSS3DRenderer.f7bfe461.js";import{_ as z,f as M,n as k,I as j,J as F,a5 as P,o as T,c as U,a3 as V}from"./app.8137842b.js";var W="varying float Vnoise;varying vec2 vUv;uniform sampler2D oceanTexture;uniform float time;void main(){vec3 color1=vec3(1.,0.,0.);vec3 color2=vec3(1.,1.,1.);vec3 finalColor=mix(color1,color2,0.5*(Vnoise*1.));vec2 newUv=vUv;newUv=vec2(newUv.x,newUv.y+0.01*sin(newUv.x*10.+time));vec4 oceanView=texture2D(oceanTexture,newUv);gl_FragColor=vec4(vUv,0.,1.);}",E="float mod289(float x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 perm(vec4 x){return mod289(((x*34.0)+1.0)*x);}float cnoise(vec3 p){vec3 a=floor(p);vec3 d=p-a;d=d*d*(3.0-2.0*d);vec4 b=a.xxyy+vec4(0.0,1.0,0.0,1.0);vec4 k1=perm(b.xyxy);vec4 k2=perm(k1.xyxy+b.zzww);vec4 c=k2+a.zzzz;vec4 k3=perm(c);vec4 k4=perm(c+1.0);vec4 o1=fract(k3*(1.0/41.0));vec4 o2=fract(k4*(1.0/41.0));vec4 o3=o2*d.z+o1*(1.0-d.z);vec2 o4=o3.yw*d.x+o3.xz*(1.0-d.x);return o4.y*d.y+o4.x*(1.0-d.y);}uniform float time;varying float Vnoise;varying vec2 vUv;void main(){vec3 newposition=position;float Pi=3.14159265;float noise=cnoise(2.*vec3(position.x,position.y,position.z*time/1.));newposition+=0.5*noise*normal;vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(newposition,1.0);}",H="void main(){gl_Position=projectionMatrix*modelViewMatrix*vec4(position*0.5,1.0);}",O="uniform vec3 u_color;void main(){gl_FragColor=vec4(u_color,1.0);}",D="uniform vec3 u_color;uniform vec2 u_mouse;uniform vec2 u_resolution;void main(){vec3 color=vec3(u_mouse.x/u_resolution.x,0.6,u_mouse.y/u_resolution.y);gl_FragColor=vec4(color,1.0);}",L="void main(){gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}";class s{init(i){this.time=10,this.container=i.container,this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new f,this.camera=new x(75,window.innerWidth/window.innerHeight,.01,10),this.camera.position.z=1,this.renderer=new p({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.control=new l(this.camera,this.renderer.domElement),this.resize(),addEventListener("resize",this.resize.bind(this),!1),this.addObject(),this.animate()}animate(){this.mesh.rotation.x+=this.time/1e3,this.mesh.rotation.y+=this.time/1e3,this.render(),requestAnimationFrame(this.animate.bind(this))}render(){this.renderer.render(this.scene,this.camera)}resize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.render()}addObject(){this.geometry=new d(.2,.2,.2),this.material=new _,this.material=new r({fragmentShader:`
                    void main(){
                        gl_FragColor = vec4(1.0,0.,1,1.);
                    }
                `,vertexShader:`
                void main(){
                    gl_Position = projectionMatrix * modelViewMatrix * vec4 
                    (position,1.0);
                }`}),this.mesh=new a(this.geometry,this.material),this.scene.add(this.mesh)}}const q=n=>{const i={container:n.value||document.body};let e=new s(i);e.addObject=function(){this.geometry=new u(.6,40,40),this.material=new r({side:m,fragmentShader:W,vertexShader:E,wireframe:!0,uniforms:{time:{value:0},oceanTexture:{value:new v().load(g)}}}),this.mesh=new a(this.geometry,this.material),this.scene.add(this.mesh)},e.time=0,e.animate=function(){this.time+=.05,this.material.uniforms.time.value=this.time,this.render(),requestAnimationFrame(this.animate.bind(this))},e.init(i)},A=n=>{const i={container:n.value||document.body};let e=new s(i);e.addObject=function(){this.geometry=new d;const t={u_color:{value:new h(65280)}};this.material=new r({uniforms:t,fragmentShader:O,vertexShader:H}),this.mesh=new a(this.geometry,this.material),this.scene.add(this.mesh)},e.time=0,e.animate=function(){this.render(),requestAnimationFrame(this.animate.bind(this))},e.init(i)},B=n=>{const i={container:n.value||document.body};let e=new s(i);const t={u_time:{value:0},u_mouse:{value:{x:0,y:0}},u_resolution:{value:{x:0,y:0}},u_color:{value:new h(65520)}};e.addObject=function(){this.geometry=new w(2,2),this.material=new r({uniforms:t,side:m,fragmentShader:D,vertexShader:L}),this.mesh=new a(this.geometry,this.material),this.scene.add(this.mesh)},e.time=0,e.animate=function(){this.render(),requestAnimationFrame(this.animate.bind(this))},e.move=function(o){t.u_mouse.value.x=o.touches?o.touches[0].clientX:o.clientX,t.u_mouse.value.y=o.touches?o.touches[0].clientY:o.clientY},"ontouchstart"in window?document.addEventListener("touchmove",e.move):document.addEventListener("mousemove",e.move),e.resize=function(){t.u_resolution!==void 0&&(t.u_resolution.value.x=window.innerWidth,t.u_resolution.value.y=window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.render()},e.init(i),e.control.dispose()};var G=Object.freeze(Object.defineProperty({__proto__:null,method:q,first:A,mouseColor:B},Symbol.toStringTag,{value:"Module"}));const N=M({__name:"index",setup(n){const i={OrbitControls:l,TWEEN:y,TrackballControls:S,CSS3DRenderer:b,CSS3DSprite:C},e=k(),t=j(null),o=()=>{if(V&&!t.value.innerHTML){let c=e.meta.method||"method";G[c](t,i)}};return F(()=>e.meta,()=>{o()}),P(()=>{e.meta.method&&o()}),(c,R)=>(T(),U("div",{class:"threeContainer",ref_key:"container",ref:t},null,512))}});var K=z(N,[["__file","index.vue"]]);export{K as default};
