import{_ as M,I as m,R as w,a3 as I,a7 as g,a5 as A,a8 as S,o as C,c as h,a as y}from"./app.8137842b.js";import{l as P}from"./utils.266f51da.js";const x={class:"pdr-reader"},B={__name:"pdrReader",setup(O){let v,i,u,_,k,R;const f=m(null),o=m(null);return w(()=>{if(I){const s=P();g(()=>import("https://unpkg.com/vtk.js@25.1.0/vtk.js"),[]).then(()=>{s.close(),v=vtk.Rendering.Misc.vtkFullScreenRenderWindow,i=vtk.Rendering.Core.vtkActor,u=vtk.IO.Misc.vtkPDBReader,_=vtk.Rendering.Core.vtkSphereMapper,R=vtk.Filters.General.vtkMoleculeToRepresentation,k=vtk.Rendering.Core.vtkStickMapper,A(()=>{if(!o.value){const n=v.newInstance({rootContainer:f.value}),t=n.getRenderer(),c=n.getRenderWindow(),d=u.newInstance(),e=R.newInstance(),a=_.newInstance(),r=k.newInstance(),l=i.newInstance(),p=i.newInstance();e.setInputConnection(d.getOutputPort()),e.setHideElements(["H"]),a.setInputConnection(e.getOutputPort(0)),a.setScaleArray(e.getSphereScaleArrayName()),l.setMapper(a),r.setInputConnection(e.getOutputPort(1)),r.setScaleArray("stickScales"),r.setOrientationArray("orientation"),p.setMapper(r),d.setUrl("/rengm/data/2LYZ.pdb").then(()=>{t.resetCamera(),c.render()}),t.addActor(l),t.addActor(p),t.resetCamera(),c.render(),o.value={fullScreenRenderer:n,renderWindow:c,renderer:t,reader:d,filter:e,sphereMapper:a,stickMapper:r,sphereActor:l,stickActor:p}}})})}}),S(()=>{if(o.value&&I){const{fullScreenRenderer:s,renderWindow:n,renderer:t,reader:c,filter:d,sphereMapper:e,stickMapper:a,sphereActor:r,stickActor:l}=o.value;t.delete(),d.delete(),e.delete(),a.delete(),r.delete(),l.delete(),c.delete(),n.delete(),window.removeEventListener("resize",s.resize),s.delete(),o.value=null}}),(s,n)=>(C(),h("div",x,[y("div",{class:"vtk-container",ref_key:"vtkContainer",ref:f},null,512)]))}};var T=M(B,[["__scopeId","data-v-01ed675b"],["__file","pdrReader.vue"]]);export{T as default};
